# Step 1: Node.js를 사용해 애플리케이션 빌드
FROM node:20 AS build

# Step 2: 작업 디렉토리를 설정
WORKDIR /app

# Step 3: package.json과 package-lock.json 복사
COPY package*.json ./

# Step 4: 의존성 설치
RUN npm install

# Step 5: 소스 코드를 복사
COPY . .

# Step 6: React 애플리케이션 빌드
RUN npm run build